<!DOCTYPE html>
<html xmlns:th="http://www.springframework.org/schema/data/jaxb" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:insert="~{master::head('userProfile')}"></head>
<head>
    <!--<link rel="stylesheet" th:href="@{/css/userProfile.css}" type="text/css"/>-->
</head>
<body>
<header th:insert="~{master::header}"></header>

<main>
    <div>
        <div class="panel-heading">
            <div class="btn-group" style="float:right;">
                <button type="button" class="btn btn-dark dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="glyphicon glyphicon-cog"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul style="background-color: #EDEDED" class="dropdown-menu">
                    <li><a href="#" id="edit" style="color: blue"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Edit</a></li>
                    <li role="separator" class="divider"></li>
                    <li><a style="color: red" th:href="@{'/user/'+${user.id}+'/delete'}"><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Delete</a></li>
                </ul>
            </div>
            <div class="clearfix"></div>
        </div>


        <h1 class="item item-divider">User Profile</h1><br>
        <div id="details" style="display: block">
            <p>Nome: <a th:text="${user.name}"></a></p>
            <p>Cognome: <a th:text="${user.surname}"></a></p>
            <p>Username: <a th:text="${user.username}"></a></p>
            <p>Data di nascita: <a type="text" th:text="${user.bDate}"></a></p>
            <p>Ruolo: <a th:text="${user.role.name}"></a></p>
        </div>
        <form th:object="${user}" id="change" method="post" enctype="multipart/form-data" style="display: none">
            <label class="col-sm-2 col-form-label" style="color: #48b5e0">Nome:</label>
            <input type="text" th:field="*{name}" name="name" id="name" class="form-control input-sm chat-input"
                   placeholder="Name"><br>
            <label class="col-sm-2 col-form-label" style="color: #48b5e0">Cognome:</label>
            <input type="text" th:field="*{surname}" name="surname" id="surname"
                   class="form-control input-sm chat-input" placeholder="Surname"><br>
            <label class="col-sm-2 col-form-label" style="color: #48b5e0">Username:</label>
            <input type="text" th:field="*{username}" name="name" id="username" class="form-control input-sm chat-input"
                   placeholder="Username"><br>
            <label class="col-sm-2 col-form-label" style="color: #48b5e0">Immagine:</label>
            <input id="file" type="file" name="file" accept="image/png" class="btn btn-primary btn-lg disabled"
                   lang="it">
            <br>
            <input type="submit" name="submit" id="submit" value="Submit"><br>
        </form>
    </div>
    <div class="center row" th:object="${user}">

        <div class="col-md-12">
            <h3 class="item item-divider">Resoconto</h3><br>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">min. secondo L.F.</th>
                    <th scope="col">Tot. min. effettuati</th>
                    <th scope="col">riporto mese prec.</th>
                    <th scope="col">riporto min mese succ.</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>0</td>
                    <td th:text="${totMin}">Tot. min. effettuati</td>
                    <td>0</td>
                    <td>0</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="col-md-12">
            <h3 class="item item-divider">Lista turni</h3><br>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">Turno</th>
                    <th scope="col">Data</th>
                    <th scope="col">Valore Turno</th>
                    <th scope="col">Totale minuti</th>
                    <th scope="col">Edita</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="turno: ${turni}">
                    <td><a th:href="@{'/turno/' + ${turno.turno.id}}" th:text="${turno.turno.name}"></a></td>
                    <td th:text="${turno.date}"></td>
                    <td th:text="${turno.turno.value}"></td>
                    <td th:text="${turno.turno.duration}"></td>
                    <td style="border: 0">
                        <a th:href="@{'/turno/' + ${turno.turno.id} + '/delete'}">
                            <i class="fa fa-trash" style="color: white"></i>
                        </a>
                        <a th:href="@{'/turno/' + ${turno.turno.id} + '/edit'}">
                            <i class="fa fa-edit" style="color: white"></i>
                        </a>
                    </td>
                </tr>
                <tr>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th>Tot. min. effettuati</th>
                    <th th:text="${totMin}">0</th>
                </tr>
                </tbody>


            </table>
        </div>


    </div>
</main>
<script type="text/javascript" th:src="@{/js/userProfile.js}"></script>
</body>
</html>